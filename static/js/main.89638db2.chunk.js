(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{19:function(e,t,r){},20:function(e,t,r){},21:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var c=r(2),a=r(9),n=r(1),i=r(3),s=r(5),o=r(7);function l(e,t){switch(t.type){case"SORT":return Object(n.a)(Object(n.a)({},e),{},{sort:t.payload.sort});case"ADD_TO_SIZES":return Object(n.a)(Object(n.a)({},e),{},{sizes:[].concat(Object(o.a)(e.sizes),[t.payload.size])});case"REMOVE_FROM_SIZES":return Object(n.a)(Object(n.a)({},e),{},{sizes:e.sizes.filter((function(e){return e!==t.payload.size}))});case"ADD_TO_BRANDS":return Object(n.a)(Object(n.a)({},e),{},{brands:[].concat(Object(o.a)(e.brands),[t.payload.brand])});case"REMOVE_FROM_BRANDS":return Object(n.a)(Object(n.a)({},e),{},{brands:e.brands.filter((function(e){return e!==t.payload.brand}))});case"ADD_TO_IDEAL_FOR":return Object(n.a)(Object(n.a)({},e),{},{idealFor:[].concat(Object(o.a)(e.idealFor),[t.payload.category])});case"REMOVE_FROM_IDEAL_FOR":return Object(n.a)(Object(n.a)({},e),{},{idealFor:e.idealFor.filter((function(e){return e!==t.payload.category}))});case"CLEAR":return{sort:"relevence",brands:[],sizes:[],idealFor:[]};default:return e}}var d=r(0),u={sort:"relevence",sizes:[],brands:[],idealFor:[]},b=Object(c.createContext)(u);function j(e){var t=e.children,r=Object(c.useReducer)(l,u),a=Object(i.a)(r,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){return console.log(n)}),[n]),Object(d.jsx)(b.Provider,{value:{filters:n,dispatchFilter:s},children:t})}function p(){return Object(c.useContext)(b)}r(19);var O=[{id:1,name:"Nike Jordon",sizes:["s","l"],price:8200,brand:"Nike",idealFor:["Men","Boys"]},{id:2,name:"Nike Air 2",sizes:["m","l"],price:6e3,brand:"Nike",idealFor:["Men"]},{id:3,name:"Nike Air Flex",sizes:["s","m"],price:6200,brand:"Nike",idealFor:["Women","Girls"]},{id:4,name:"H&M White Hoodie",sizes:["s","m","l"],price:2200,brand:"H&M",idealFor:["Men"]},{id:5,name:"H&M Jeans",sizes:["l"],price:1800,brand:"H&M",idealFor:["Women"]},{id:6,name:"Levi's Tshirt",sizes:["s","l"],price:3500,brand:"Levi's",idealFor:["Women"]}];function h(){var e=p(),t=e.filters,r=e.dispatchFilter,a=Object(c.useState)({sizes:[],brands:[],idealFor:[]}),n=Object(i.a)(a,2),o=n[0],l=n[1];function u(e){r({type:"SORT",payload:{sort:e.target.value}})}function b(e){var t=e.target.getAttribute("data-filter-type"),c=e.target.getAttribute("data-payload-key");r({type:e.target.checked?"ADD_TO_".concat(t.toUpperCase()):"REMOVE_FROM_".concat(t.toUpperCase()),payload:Object(s.a)({},c,e.target.value)})}return Object(c.useEffect)((function(){return l(O.reduce((function(e,t){return t.sizes.forEach((function(t){return e.sizes.includes(t)?null:e.sizes.push(t)})),t.idealFor.forEach((function(t){return e.idealFor.includes(t)?null:e.idealFor.push(t)})),!e.brands.includes(t.brand)&&e.brands.push(t.brand),e}),{sizes:[],brands:[],idealFor:[]}))}),[t]),Object(d.jsxs)("aside",{className:"filter-bar",children:[Object(d.jsx)("button",{className:"clear-filters-button",onClick:function(){return r({type:"CLEAR"})},children:"Clear"}),Object(d.jsxs)("div",{className:"filter-bar-section",children:[Object(d.jsx)("p",{className:"filter-bar-section-heading",children:"Sort by: "}),Object(d.jsxs)("div",{className:"filter-options-container",children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"radio",name:"price-sort",value:"relevence",checked:"relevence"===t.sort,onChange:function(e){return u(e)}})," ","Relevance"]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"radio",name:"price-sort",value:"high-to-low",checked:"high-to-low"===t.sort,onChange:function(e){return u(e)}})," ","Price: high to low"]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"radio",name:"price-sort",value:"low-to-high",checked:"low-to-high"===t.sort,onChange:function(e){return u(e)}})," ","Price: low to high"]})]})]}),Object(d.jsxs)("div",{className:"filter-bar-section",children:[Object(d.jsx)("p",{className:"filter-bar-section-heading",children:"Size: "}),Object(d.jsx)("div",{className:"filter-options-container size-filter-options-container",children:o.sizes.map((function(e){return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox","data-filter-type":"sizes","data-payload-key":"size",value:e,checked:t.sizes.includes(e),onChange:function(e){return b(e)}}),e]},e)}))})]}),Object(d.jsxs)("div",{className:"filter-bar-section",children:[Object(d.jsx)("p",{className:"filter-bar-section-heading",children:"Brands: "}),Object(d.jsx)("div",{className:"filter-options-container",children:o.brands.map((function(e){return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox","data-filter-type":"brands","data-payload-key":"brand",value:e,checked:t.brands.includes(e),onChange:function(e){return b(e)}}),e]},e)}))})]}),Object(d.jsxs)("div",{className:"filter-bar-section",children:[Object(d.jsx)("p",{className:"filter-bar-section-heading",children:"Ideal for: "}),Object(d.jsx)("div",{className:"filter-options-container",children:o.idealFor.map((function(e){return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{type:"checkbox","data-filter-type":"ideal_for","data-payload-key":"category",value:e,checked:t.idealFor.includes(e),onChange:function(e){return b(e)}}),e]},e)}))})]})]})}r(20);function f(e){var t=e.product;return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"product-image-container",children:Object(d.jsx)("img",{className:"product-image",src:t.image,alt:t.name})}),Object(d.jsxs)("div",{className:"product-text-area",children:[Object(d.jsx)("p",{className:"product-name",children:t.name}),Object(d.jsx)("p",{className:"product-price",children:t.price}),Object(d.jsx)("div",{children:t.sizes.map((function(e){return Object(d.jsx)("span",{className:"size-chip",children:e})}))})]})]})}r(21);function m(){var e=Object(c.useState)({original:O,filtered:O}),t=Object(i.a)(e,2),r=t[0],a=t[1],s=p().filters;return Object(c.useEffect)((function(){var e=r.original;"high-to-low"===s.sort?e.sort((function(e,t){return e.price>t.price?-1:t.price>e.price?1:0})):"low-to-high"===s.sort&&e.sort((function(e,t){return e.price>t.price?1:t.price>e.price?-1:0})),s.sizes.length&&(e=e.filter((function(e){var t=!1;return e.sizes.forEach((function(e){s.sizes.includes(e)&&(t=!0)})),t}))),s.brands.length&&(e=e.filter((function(e){return s.brands.includes(e.brand)}))),s.idealFor.length&&(e=e.filter((function(e){var t=!1;return e.idealFor.forEach((function(e){s.idealFor.includes(e)&&(t=!0)})),t}))),a((function(t){return Object(n.a)(Object(n.a)({},t),{},{filtered:e})}))}),[s,r.original]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{}),Object(d.jsx)("div",{className:"cards-container",children:r.filtered.map((function(e){return Object(d.jsx)(f,{product:e},e.id)}))})]})}var x=document.getElementById("root");Object(a.createRoot)(x).render(Object(d.jsx)(c.StrictMode,{children:Object(d.jsx)(j,{children:Object(d.jsx)(m,{})})}))}},[[22,1,2]]]);
//# sourceMappingURL=main.89638db2.chunk.js.map